function getjQueryUI(){if(typeof jQuery.ui==="undefined"){var a=document.createElement("script");a.type="text/javascript";a.onload=runPerfectPixel;a.src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js";document.body.appendChild(a)}else{runPerfectPixel()}}function runPerfectPixel(){var c=jQuery,d=function(){return false},e=c("body"),f=window.onbeforeunload,g=(new Date).getTime()+'" style="position: ',h=c('<div id="drag_notifier_'+g+'fixed;z-index:199;top:0px;left:0px;padding:30px 45px;overflow:hidden;margin:10px;font-size:14px;color:#333;border:1px solid #ccc;background-color:white;border-radius:10px;-moz-border-radius:10px;font-family:helvetica;">Drop picture here.</div>'),i=c('<img id="droppedComp_'+g+'absolute;left:100px; top:100px;z-index:100">'),j=e[0].ondrop;if(typeof window.FileReader==="undefined"){alert("File API & FileReader unavailable. Please try a better browser?")}c("html").css("overflow-y","scroll");h.hide();c("body").append(h);h.fadeIn();var k=function(d){d.preventDefault();var g=.5,k=d.dataTransfer.files[0],l=new FileReader;window.onbeforeunload=function(){return"Are you sure you want to leave?"};a=h,b=h.text("");console.log(h,h.text(""));h.text("Drag, or use your arrow keys to move the image.");setTimeout(function(){h.fadeOut("slow")},5e3);window.scrollTo(0,0);l.onload=function(a){var b=typeof a.target.result!=="undefined"?a.target.result:a.target.baseURI;i.attr("src",b);i.css({opacity:g}).draggable();c(document.body).append(i)};l.onerror=function(a){alert("error reading file");alert(a)};l.readAsDataURL(k);c(document).keydown(function(a){var b=a.shiftKey,c=a.keyCode;if(b===true){if(c===38&&g<1){g+=.1;i.css({opacity:g});a.preventDefault()}else if(c===40&&g>0){g-=.1;i.css({opacity:g});a.preventDefault()}}else if(!a.metaKey){switch(c){case 37:i.css("left",parseFloat(i.css("left"))-1+"px");a.preventDefault();break;case 38:i.css("top",parseFloat(i.css("top"))-1+"px");a.preventDefault();break;case 39:i.css("left",parseFloat(i.css("left"))+1+"px");a.preventDefault();break;case 40:i.css("top",parseFloat(i.css("top"))+1+"px");a.preventDefault();break;case 27:a.preventDefault();i.fadeOut("200",function(){i.remove();h.remove();window.onbeforeunload=f;e[0].ondrop=j});break}}});return false};h.click(function(){window.onbeforeunload=f;e[0].ondrop=j;h.remove()});e[0].ondragover=d;e[0].ondragend=d;e[0].ondrop=k}var PerfectPixel=true;(function(){if(typeof jQuery==="undefined"){var a=document.createElement("script");a.type="text/javascript";a.onload=getjQueryUI;a.src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js";document.body.appendChild(a)}else{getjQueryUI()}})()